{
  "openapi": "3.0.0",
  "info": {
    "title": "MK Store Backend API",
    "version": "1.0.0",
    "description": "E-commerce application backend API documentation with sample requests and responses",
    "contact": {
      "name": "API Support",
      "email": "support@mkstore.com"
    }
  },
  "servers": [
    {
      "url": "",
      "description": "Development server"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "Enter JWT token obtained from login endpoints"
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "message": {
            "type": "string",
            "example": "Error message"
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "Success": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Operation successful"
          },
          "doc": {
            "type": "object"
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "ADMIN",
      "description": "Admin / vendor-only routes"
    },
    {
      "name": "CLIENT",
      "description": "Client / app-user routes"
    },
    {
      "name": "BOTH",
      "description": "Routes available to both admin and client"
    },
    {
      "name": "Authentication",
      "description": "User authentication endpoints"
    },
    {
      "name": "Users",
      "description": "User management endpoints"
    },
    {
      "name": "Vendors",
      "description": "Vendor management endpoints"
    },
    {
      "name": "Branches",
      "description": "Branch management endpoints"
    },
    {
      "name": "Categories",
      "description": "Category management endpoints"
    },
    {
      "name": "SubCategories",
      "description": "SubCategory management endpoints"
    },
    {
      "name": "Products",
      "description": "Product management endpoints"
    },
    {
      "name": "Product Types",
      "description": "Product type management (e.g. Groundnut Oil under subcategory)"
    },
    {
      "name": "Cart",
      "description": "Shopping cart endpoints"
    },
    {
      "name": "Orders",
      "description": "Order management endpoints"
    },
    {
      "name": "OrderItems",
      "description": "Order item endpoints"
    },
    {
      "name": "Addresses",
      "description": "Address management endpoints"
    },
    {
      "name": "Wishlist",
      "description": "Wishlist management endpoints"
    },
    {
      "name": "Promocodes",
      "description": "Promocode management endpoints"
    },
    {
      "name": "Offers",
      "description": "Offer management endpoints"
    },
    {
      "name": "OTP",
      "description": "OTP verification endpoints"
    },
    {
      "name": "User FCM",
      "description": "User FCM token management endpoints"
    },
    {
      "name": "Rider Stats",
      "description": "Rider statistics management endpoints"
    },
    {
      "name": "Banners",
      "description": "Banner management endpoints"
    },
    {
      "name": "Test",
      "description": "Test endpoints"
    }
  ],
  "paths": {
    "/api/save-address": {
      "post": {
        "summary": "Add a new address",
        "tags": [
          "Addresses",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "mobileNumber"
                ],
                "properties": {
                  "addressLine1": {
                    "type": "string",
                    "example": "123",
                    "description": "Address line 1 (optional)"
                  },
                  "addressLine2": {
                    "type": "string",
                    "example": "Apartment 4B",
                    "description": "Address line 2 (optional)"
                  },
                  "street": {
                    "type": "string",
                    "example": "Main Street",
                    "description": "Street name (optional)"
                  },
                  "landmark": {
                    "type": "string",
                    "example": "Near City Park",
                    "description": "Landmark (optional)"
                  },
                  "city": {
                    "type": "string",
                    "example": "Mumbai",
                    "description": "City name (optional)"
                  },
                  "state": {
                    "type": "string",
                    "example": "Maharashtra",
                    "description": "State name (optional)"
                  },
                  "country": {
                    "type": "string",
                    "example": "India",
                    "default": "India",
                    "description": "Country name (optional, defaults to India)"
                  },
                  "pincode": {
                    "type": "string",
                    "example": "400001",
                    "description": "Postal/PIN code (optional)"
                  },
                  "latitude": {
                    "type": "number",
                    "format": "decimal",
                    "minimum": -90,
                    "maximum": 90,
                    "example": 19.076,
                    "description": "Latitude coordinate (optional)"
                  },
                  "longitude": {
                    "type": "number",
                    "format": "decimal",
                    "minimum": -180,
                    "maximum": 180,
                    "example": 72.8777,
                    "description": "Longitude coordinate (optional)"
                  },
                  "name": {
                    "type": "string",
                    "example": "John Doe",
                    "description": "Recipient name (required)"
                  },
                  "mobileNumber": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Mobile number (required)"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Phone number (optional)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john.doe@example.com",
                    "description": "Email address (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "default": "ACTIVE",
                    "example": "ACTIVE",
                    "description": "Address status (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Address saved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Address saved successfully"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "addressLine1": {
                          "type": "string"
                        },
                        "addressLine2": {
                          "type": "string"
                        },
                        "street": {
                          "type": "string"
                        },
                        "landmark": {
                          "type": "string"
                        },
                        "city": {
                          "type": "string"
                        },
                        "state": {
                          "type": "string"
                        },
                        "country": {
                          "type": "string"
                        },
                        "pincode": {
                          "type": "string"
                        },
                        "latitude": {
                          "type": "number"
                        },
                        "longitude": {
                          "type": "number"
                        },
                        "name": {
                          "type": "string"
                        },
                        "mobileNumber": {
                          "type": "string"
                        },
                        "phone": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-address": {
      "post": {
        "summary": "Get user addresses",
        "tags": [
          "Addresses",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Addresses retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "addressLine1": {
                            "type": "string",
                            "example": "123"
                          },
                          "addressLine2": {
                            "type": "string",
                            "example": "Apartment 4B"
                          },
                          "street": {
                            "type": "string",
                            "example": "Main Street"
                          },
                          "landmark": {
                            "type": "string",
                            "example": "Near City Park"
                          },
                          "city": {
                            "type": "string",
                            "example": "Mumbai"
                          },
                          "state": {
                            "type": "string",
                            "example": "Maharashtra"
                          },
                          "country": {
                            "type": "string",
                            "example": "India"
                          },
                          "pincode": {
                            "type": "string",
                            "example": "400001"
                          },
                          "latitude": {
                            "type": "number",
                            "example": 19.076
                          },
                          "longitude": {
                            "type": "number",
                            "example": 72.8777
                          },
                          "name": {
                            "type": "string",
                            "example": "John Doe"
                          },
                          "mobileNumber": {
                            "type": "string",
                            "example": "+1234567890"
                          },
                          "phone": {
                            "type": "string",
                            "example": "+1234567890"
                          },
                          "email": {
                            "type": "string",
                            "example": "john.doe@example.com"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "ACTIVE",
                              "INACTIVE"
                            ],
                            "example": "ACTIVE"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-address/{id}": {
      "patch": {
        "summary": "Update an address",
        "tags": [
          "Addresses",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Address ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "addressLine1": {
                    "type": "string",
                    "example": "123",
                    "description": "Address line 1 (optional)"
                  },
                  "addressLine2": {
                    "type": "string",
                    "example": "Apartment 4B",
                    "description": "Address line 2 (optional)"
                  },
                  "street": {
                    "type": "string",
                    "example": "Main Street",
                    "description": "Street name (optional)"
                  },
                  "landmark": {
                    "type": "string",
                    "example": "Near City Park",
                    "description": "Landmark (optional)"
                  },
                  "city": {
                    "type": "string",
                    "example": "Mumbai",
                    "description": "City name (optional)"
                  },
                  "state": {
                    "type": "string",
                    "example": "Maharashtra",
                    "description": "State name (optional)"
                  },
                  "country": {
                    "type": "string",
                    "example": "India",
                    "description": "Country name (optional)"
                  },
                  "pincode": {
                    "type": "string",
                    "example": "400001",
                    "description": "Postal/PIN code (optional)"
                  },
                  "latitude": {
                    "type": "number",
                    "format": "decimal",
                    "minimum": -90,
                    "maximum": 90,
                    "example": 19.076,
                    "description": "Latitude coordinate (optional)"
                  },
                  "longitude": {
                    "type": "number",
                    "format": "decimal",
                    "minimum": -180,
                    "maximum": 180,
                    "example": 72.8777,
                    "description": "Longitude coordinate (optional)"
                  },
                  "name": {
                    "type": "string",
                    "example": "John Doe",
                    "description": "Recipient name (optional)"
                  },
                  "mobileNumber": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Mobile number (optional)"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Phone number (optional)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john.doe@example.com",
                    "description": "Email address (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Address status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the address (required)"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response (required)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Address updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/save-banner": {
      "post": {
        "summary": "Create a new banner",
        "tags": [
          "Banners",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "vendorId",
                  "branchId"
                ],
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID"
                  },
                  "subCategoryId": {
                    "type": "integer",
                    "nullable": true,
                    "example": 5,
                    "description": "Subcategory ID (optional)"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Banner image file (required if imageUrl not provided)"
                  },
                  "imageUrl": {
                    "type": "string",
                    "example": "https://example.com/banner.jpg",
                    "description": "URL of the banner image (required if file not provided)"
                  },
                  "displayOrder": {
                    "type": "integer",
                    "example": 1,
                    "default": 0,
                    "description": "Order in which banner should be displayed"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "default": "ACTIVE",
                    "description": "Banner status"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Banner created successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-banner": {
      "post": {
        "summary": "Get list of banners with pagination",
        "tags": [
          "Banners",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Banners retrieved successfully"
          }
        }
      }
    },
    "/api/get-banner-by-id/{id}": {
      "get": {
        "summary": "Get banner by ID",
        "tags": [
          "Banners",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Banner ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Banner retrieved successfully"
          },
          "404": {
            "description": "Banner not found"
          }
        }
      }
    },
    "/api/update-banner/{id}": {
      "put": {
        "summary": "Update a banner",
        "tags": [
          "Banners",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Banner ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "vendorId": {
                    "type": "integer"
                  },
                  "branchId": {
                    "type": "integer"
                  },
                  "subCategoryId": {
                    "type": "integer",
                    "nullable": true
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Banner image file (optional, if provided will replace existing image)"
                  },
                  "imageUrl": {
                    "type": "string",
                    "description": "URL of the banner image (optional, if file not provided)"
                  },
                  "displayOrder": {
                    "type": "integer"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Banner updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Concurrency error"
          }
        }
      }
    },
    "/api/delete-banner/{id}": {
      "delete": {
        "summary": "Delete a banner",
        "tags": [
          "Banners",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Banner ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "responses": {
          "200": {
            "description": "Banner deleted successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Concurrency error"
          }
        }
      }
    },
    "/api/save-branch": {
      "post": {
        "summary": "Create a new branch",
        "tags": [
          "Branches",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vendorId",
                  "name"
                ],
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID"
                  },
                  "name": {
                    "type": "string",
                    "example": "Downtown Branch",
                    "description": "Branch name"
                  },
                  "code": {
                    "type": "string",
                    "example": "BRANCH001",
                    "description": "Unique branch code (optional)"
                  },
                  "addressLine1": {
                    "type": "string",
                    "example": "123 Main Street",
                    "description": "Address line 1 (optional)"
                  },
                  "addressLine2": {
                    "type": "string",
                    "example": "Suite 100",
                    "description": "Address line 2 (optional)"
                  },
                  "street": {
                    "type": "string",
                    "example": "Main Street",
                    "description": "Street name (optional)"
                  },
                  "city": {
                    "type": "string",
                    "example": "New York",
                    "description": "City (optional)"
                  },
                  "state": {
                    "type": "string",
                    "example": "NY",
                    "description": "State (optional)"
                  },
                  "pincode": {
                    "type": "string",
                    "example": "10001",
                    "description": "Pincode/ZIP code (optional)"
                  },
                  "latitude": {
                    "type": "number",
                    "example": 40.7128,
                    "description": "Latitude coordinate (optional)"
                  },
                  "longitude": {
                    "type": "number",
                    "example": -74.006,
                    "description": "Longitude coordinate (optional)"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Branch phone number (optional)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "branch@example.com",
                    "description": "Branch email (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Branch status (optional, defaults to ACTIVE)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Branch created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "successfully added"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "branch": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "vendor_id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "code": {
                              "type": "string"
                            },
                            "address_line1": {
                              "type": "string"
                            },
                            "address_line2": {
                              "type": "string"
                            },
                            "street": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "state": {
                              "type": "string"
                            },
                            "pincode": {
                              "type": "string"
                            },
                            "latitude": {
                              "type": "number"
                            },
                            "longitude": {
                              "type": "number"
                            },
                            "phone": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "ACTIVE",
                                "INACTIVE"
                              ]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - validation error or duplicate code"
          }
        }
      }
    },
    "/api/get-branch": {
      "post": {
        "summary": "Get branches with pagination",
        "tags": [
          "Branches",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Branches retrieved successfully"
          }
        }
      }
    },
    "/api/update-branch/{id}": {
      "patch": {
        "summary": "Update a branch",
        "tags": [
          "Branches",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Branch ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (optional)"
                  },
                  "name": {
                    "type": "string",
                    "example": "Downtown Branch",
                    "description": "Branch name (optional)"
                  },
                  "code": {
                    "type": "string",
                    "example": "BRANCH001",
                    "description": "Unique branch code (optional)"
                  },
                  "addressLine1": {
                    "type": "string",
                    "example": "123 Main Street",
                    "description": "Address line 1 (optional)"
                  },
                  "addressLine2": {
                    "type": "string",
                    "example": "Suite 100",
                    "description": "Address line 2 (optional)"
                  },
                  "street": {
                    "type": "string",
                    "example": "Main Street",
                    "description": "Street name (optional)"
                  },
                  "city": {
                    "type": "string",
                    "example": "New York",
                    "description": "City (optional)"
                  },
                  "state": {
                    "type": "string",
                    "example": "NY",
                    "description": "State (optional)"
                  },
                  "pincode": {
                    "type": "string",
                    "example": "10001",
                    "description": "Pincode/ZIP code (optional)"
                  },
                  "latitude": {
                    "type": "number",
                    "example": 40.7128,
                    "description": "Latitude coordinate (optional)"
                  },
                  "longitude": {
                    "type": "number",
                    "example": -74.006,
                    "description": "Longitude coordinate (optional)"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Branch phone number (optional)"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "branch@example.com",
                    "description": "Branch email (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Branch status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the branch"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Branch updated successfully"
          },
          "409": {
            "description": "Concurrency conflict - branch was modified by another user"
          }
        }
      }
    },
    "/api/save-brand": {
      "post": {
        "summary": "Create a new brand",
        "tags": [
          "Brands",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "branchId",
                  "vendorId"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Nike",
                    "description": "Brand name (required)"
                  },
                  "description": {
                    "type": "string",
                    "example": "Just Do It",
                    "description": "Brand description (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (required)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (required)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Brand status (optional, defaults to ACTIVE)"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Brand logo file (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Brand created successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-brand": {
      "post": {
        "summary": "Get brands with pagination and filters",
        "tags": [
          "Brands",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brands retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "logo": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer",
                      "example": 50
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-brand/{id}": {
      "patch": {
        "summary": "Update a brand",
        "tags": [
          "Brands",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Brand ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Updated Brand Name",
                    "description": "Brand name (optional)"
                  },
                  "description": {
                    "type": "string",
                    "example": "Updated description",
                    "description": "Brand description (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (optional)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Brand status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the brand"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Brand logo file (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Brand updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/delete-brand": {
      "delete": {
        "summary": "Delete a brand",
        "tags": [
          "Brands",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "brandId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Brand ID to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Brand deleted successfully",
            "headers": {
              "message": {
                "schema": {
                  "type": "string"
                },
                "example": "Brand deleted successfully"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error deleting brand"
          }
        }
      }
    },
    "/api/get-related-brands": {
      "get": {
        "summary": "Get related brands by productId, subCategoryId, or productTypeId",
        "description": "At least one of productId, subCategoryId or productTypeId is required.\n1. By productId - returns brands that have ACTIVE products of the same product type in the same subcategory (and vendor) as the given product.\n2. By subCategoryId - returns brands that have ACTIVE products in that subcategory; optionally filter by productTypeId and vendorId.\n3. By productTypeId - subcategory is resolved from product_type; returns brands that have ACTIVE products of that type; optionally filter by vendorId.\nExample - for type \"Groundnut Oil\" in subcategory \"Oil and ghee\", returns all brands selling that type.\n",
        "tags": [
          "Brands",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "productId",
            "schema": {
              "type": "integer"
            },
            "description": "Product ID (use one of productId, subCategoryId, productTypeId)"
          },
          {
            "in": "query",
            "name": "subCategoryId",
            "schema": {
              "type": "integer"
            },
            "description": "Subcategory ID (use one of productId, subCategoryId, productTypeId)"
          },
          {
            "in": "query",
            "name": "productTypeId",
            "schema": {
              "type": "integer"
            },
            "description": "Product type ID; when used alone, subcategory is resolved from product_type (use one of productId, subCategoryId, productTypeId)"
          },
          {
            "in": "query",
            "name": "vendorId",
            "schema": {
              "type": "integer"
            },
            "description": "Optional vendor filter (when using subCategoryId or productTypeId)"
          }
        ],
        "responses": {
          "200": {
            "description": "Related brands list (empty if product has no type or no brands match)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "logo": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "message": {
                      "type": "string",
                      "description": "Present when product has no type (e.g. \"Product has no type.\")"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Product or product type not found (when productId or productTypeId is used)"
          }
        }
      }
    },
    "/api/add-to-cart": {
      "post": {
        "summary": "Add item to cart",
        "tags": [
          "Cart",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId",
                  "variantId",
                  "quantity",
                  "price"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Product ID (required - must match variant's product)"
                  },
                  "variantId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Product variant ID (required - must belong to the specified product)"
                  },
                  "quantity": {
                    "type": "integer",
                    "minimum": 1,
                    "example": 2,
                    "description": "Quantity to add to cart (required)"
                  },
                  "comboId": {
                    "type": "integer",
                    "example": 10,
                    "description": "Combo discount ID (optional - if provided, price is calculated automatically as combo price for one combo set, quantity can be any value  1)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (optional - will be validated against product's vendor)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (optional - will be validated against product's branch)"
                  }
                }
              },
              "examples": {
                "regularItem": {
                  "summary": "Add regular item to cart",
                  "description": "Example: 2 items at 120 each, price calculated automatically as 240",
                  "value": {
                    "productId": 1,
                    "variantId": 5,
                    "quantity": 2
                  }
                },
                "comboItemPERCENT": {
                  "summary": "Add combo item with PERCENT discount",
                  "description": "Example: combo_quantity=3, sellingPrice=120, 10% discount. Price calculated automatically as 324. Quantity can be 1, 2, 3, etc.",
                  "value": {
                    "productId": 1,
                    "variantId": 5,
                    "quantity": 1,
                    "comboId": 10
                  }
                },
                "comboItemFLATOFF": {
                  "summary": "Add combo item with FLATOFF discount",
                  "description": "Example: combo_quantity=3, sellingPrice=120, FLATOFF 20. Price calculated automatically as 340. Quantity can be 1, 2, 3, etc.",
                  "value": {
                    "productId": 1,
                    "variantId": 5,
                    "quantity": 1,
                    "comboId": 10
                  }
                },
                "withVendorBranch": {
                  "summary": "Add item with vendor and branch validation",
                  "description": "Example: 1 item at 120, price calculated automatically as 120",
                  "value": {
                    "productId": 1,
                    "variantId": 5,
                    "quantity": 1,
                    "vendorId": 1,
                    "branchId": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item added to cart successfully or item already exists in cart",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "success": {
                          "type": "boolean",
                          "example": true
                        },
                        "message": {
                          "type": "string",
                          "example": "item already added to cart"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "success": {
                          "type": "boolean",
                          "example": true
                        },
                        "message": {
                          "type": "string",
                          "example": "successfully added"
                        },
                        "doc": {
                          "type": "object",
                          "properties": {
                            "cat": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "product_id": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "variant_id": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "vendor_id": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "branch_id": {
                                  "type": "integer",
                                  "example": 1
                                },
                                "quantity": {
                                  "type": "integer",
                                  "example": 2
                                },
                                "combo_id": {
                                  "type": "integer",
                                  "nullable": true,
                                  "example": null
                                },
                                "unit_price": {
                                  "type": "number",
                                  "example": 120
                                },
                                "total_price": {
                                  "type": "number",
                                  "example": 240
                                },
                                "status": {
                                  "type": "string",
                                  "example": "ACTIVE"
                                },
                                "created_at": {
                                  "type": "string",
                                  "format": "date-time",
                                  "example": "2025-01-25T10:30:00.000Z"
                                },
                                "updated_at": {
                                  "type": "string",
                                  "format": "date-time",
                                  "example": "2025-01-25T10:30:00.000Z"
                                },
                                "concurrency_stamp": {
                                  "type": "string",
                                  "format": "uuid",
                                  "example": "550e8400-e29b-41d4-a716-446655440000"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                },
                "examples": {
                  "success": {
                    "summary": "Item added successfully",
                    "value": {
                      "success": true,
                      "message": "successfully added",
                      "doc": {
                        "cat": {
                          "id": 15,
                          "product_id": 1,
                          "variant_id": 5,
                          "vendor_id": 1,
                          "branch_id": 2,
                          "quantity": 2,
                          "is_combo": false,
                          "unit_price": 120,
                          "total_price": 240,
                          "status": "ACTIVE",
                          "created_at": "2025-01-25T10:30:00.000Z",
                          "updated_at": "2025-01-25T10:30:00.000Z",
                          "concurrency_stamp": "550e8400-e29b-41d4-a716-446655440000"
                        }
                      }
                    }
                  },
                  "alreadyExists": {
                    "summary": "Item already in cart",
                    "value": {
                      "success": true,
                      "message": "item already added to cart"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error (product/variant not found, price mismatch, combo validation failed, etc.)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Price must be 240 for regular pricing (2  120)"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "priceMismatch": {
                    "summary": "Price validation error",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Price must be 240 for regular pricing (2  120)"
                      }
                    }
                  },
                  "comboValidationError": {
                    "summary": "Combo validation error",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Quantity must be exactly 3 for combo discount"
                      }
                    }
                  },
                  "comboPriceMismatch": {
                    "summary": "Combo price mismatch error",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Price must be 340 for combo discount (total for 3 items)"
                      }
                    }
                  },
                  "variantNotFound": {
                    "summary": "Variant not found",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Product variant not found or does not belong to the specified product"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-cart": {
      "post": {
        "summary": "Get user's cart items",
        "tags": [
          "Cart",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Filter cart items by vendor ID (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Filter cart items by branch ID (optional)"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              },
              "examples": {
                "basic": {
                  "summary": "Get all cart items",
                  "value": {}
                },
                "withPagination": {
                  "summary": "Get cart items with pagination",
                  "value": {
                    "pageSize": 20,
                    "pageNumber": 1
                  }
                },
                "withFilters": {
                  "summary": "Get cart items filtered by vendor",
                  "value": {
                    "vendorId": 1,
                    "pageSize": 10,
                    "pageNumber": 1
                  }
                },
                "withSorting": {
                  "summary": "Get cart items sorted by creation date",
                  "value": {
                    "pageSize": 10,
                    "pageNumber": 1,
                    "sorting": [
                      {
                        "key": "created_at",
                        "direction": "DESC"
                      }
                    ]
                  }
                },
                "withMultipleFilters": {
                  "summary": "Get cart items with multiple filters",
                  "value": {
                    "vendorId": 1,
                    "branchId": 2,
                    "pageSize": 10,
                    "pageNumber": 1,
                    "filters": [
                      {
                        "key": "combo_id",
                        "eq": "null"
                      }
                    ],
                    "sorting": [
                      {
                        "key": "total_price",
                        "direction": "DESC"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cart items retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "product_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "variant_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "vendor_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "branch_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "quantity": {
                            "type": "integer",
                            "example": 2
                          },
                          "combo_id": {
                            "type": "integer",
                            "nullable": true,
                            "example": null
                          },
                          "unit_price": {
                            "type": "number",
                            "example": 120
                          },
                          "total_price": {
                            "type": "number",
                            "example": 240
                          },
                          "status": {
                            "type": "string",
                            "example": "ACTIVE"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "concurrency_stamp": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "productDetails": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "title": {
                                "type": "string",
                                "example": "Fresh Milk"
                              }
                            }
                          },
                          "variant": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "variant_name": {
                                "type": "string",
                                "example": "500ml"
                              },
                              "selling_price": {
                                "type": "number",
                                "example": 120
                              },
                              "quantity": {
                                "type": "integer",
                                "example": 50
                              },
                              "product_status": {
                                "type": "string",
                                "enum": [
                                  "INSTOCK",
                                  "OUT-OF-STOCK"
                                ],
                                "example": "INSTOCK"
                              },
                              "product": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer",
                                    "example": 1
                                  },
                                  "title": {
                                    "type": "string",
                                    "example": "Fresh Milk"
                                  },
                                  "images": {
                                    "type": "array",
                                    "items": {
                                      "type": "object",
                                      "properties": {
                                        "id": {
                                          "type": "integer"
                                        },
                                        "image_url": {
                                          "type": "string"
                                        }
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "user": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer",
                                "example": 1
                              },
                              "name": {
                                "type": "string",
                                "example": "John Doe"
                              },
                              "email": {
                                "type": "string",
                                "example": "john@example.com"
                              },
                              "mobile_number": {
                                "type": "string",
                                "example": "9876543210"
                              }
                            }
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        },
                        "pageNumber": {
                          "type": "integer",
                          "example": 1
                        },
                        "totalCount": {
                          "type": "integer",
                          "example": 5
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 1
                        },
                        "paginationEnabled": {
                          "type": "boolean",
                          "example": false
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Cart items retrieved successfully",
                    "value": {
                      "success": true,
                      "doc": [
                        {
                          "id": 15,
                          "product_id": 1,
                          "variant_id": 5,
                          "vendor_id": 1,
                          "branch_id": 2,
                          "quantity": 2,
                          "is_combo": false,
                          "unit_price": 120,
                          "total_price": 240,
                          "status": "ACTIVE",
                          "created_at": "2025-01-25T10:30:00.000Z",
                          "updated_at": "2025-01-25T10:30:00.000Z",
                          "concurrency_stamp": "550e8400-e29b-41d4-a716-446655440000",
                          "productDetails": {
                            "id": 1,
                            "title": "Fresh Milk"
                          },
                          "variant": {
                            "id": 5,
                            "variant_name": "500ml",
                            "selling_price": 120,
                            "quantity": 50,
                            "product_status": "INSTOCK",
                            "product": {
                              "id": 1,
                              "title": "Fresh Milk",
                              "images": [
                                {
                                  "id": 10,
                                  "image_url": "https://example.com/images/milk.jpg"
                                }
                              ]
                            }
                          },
                          "user": {
                            "id": 1,
                            "name": "John Doe",
                            "email": "john@example.com",
                            "mobile_number": "9876543210"
                          }
                        },
                        {
                          "id": 16,
                          "product_id": 2,
                          "variant_id": 8,
                          "vendor_id": 1,
                          "branch_id": 2,
                          "quantity": 3,
                          "combo_id": 10,
                          "unit_price": 324,
                          "total_price": 972,
                          "status": "ACTIVE",
                          "created_at": "2025-01-25T11:00:00.000Z",
                          "updated_at": "2025-01-25T11:00:00.000Z",
                          "concurrency_stamp": "660e8400-e29b-41d4-a716-446655440001",
                          "productDetails": {
                            "id": 2,
                            "title": "Organic Eggs"
                          },
                          "variant": {
                            "id": 8,
                            "variant_name": "Dozen",
                            "selling_price": 150,
                            "quantity": 30,
                            "product_status": "INSTOCK",
                            "product": {
                              "id": 2,
                              "title": "Organic Eggs",
                              "images": [
                                {
                                  "id": 15,
                                  "image_url": "https://example.com/images/eggs.jpg"
                                }
                              ]
                            }
                          },
                          "user": {
                            "id": 1,
                            "name": "John Doe",
                            "email": "john@example.com",
                            "mobile_number": "9876543210"
                          }
                        }
                      ],
                      "pagination": {
                        "pageSize": 10,
                        "pageNumber": 1,
                        "totalCount": 2,
                        "totalPages": 1,
                        "paginationEnabled": false
                      }
                    }
                  },
                  "emptyCart": {
                    "summary": "Empty cart",
                    "value": {
                      "success": true,
                      "doc": [],
                      "pagination": {
                        "pageSize": 10,
                        "pageNumber": 1,
                        "totalCount": 0,
                        "totalPages": 0,
                        "paginationEnabled": false
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/delete-cart": {
      "delete": {
        "summary": "Remove item from cart",
        "tags": [
          "Cart",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "cartId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Cart item ID to delete",
            "example": 15
          }
        ],
        "responses": {
          "200": {
            "description": "Item removed from cart successfully",
            "headers": {
              "message": {
                "schema": {
                  "type": "string"
                },
                "example": "successfully deleted"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "successfully deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or cart item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Parameter: cartId is required in query"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Item deleted successfully",
                    "value": {
                      "success": true,
                      "message": "successfully deleted"
                    }
                  },
                  "validationError": {
                    "summary": "Validation error",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Parameter: cartId is required in query"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-cart/{id}": {
      "patch": {
        "summary": "Update cart item quantity, price, or combo status",
        "tags": [
          "Cart",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Cart item ID",
            "example": 15
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking (required)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "quantity": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 3,
                    "description": "New quantity (optional - if 0, item is removed from cart; price is calculated automatically)"
                  },
                  "comboId": {
                    "type": "integer",
                    "nullable": true,
                    "example": null,
                    "description": "Combo discount ID (optional - if provided, price is calculated automatically as combo price for one combo set; if set to null, switches from combo to regular)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the cart item (required)"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "550e8400-e29b-41d4-a716-446655440000",
                    "description": "Concurrency stamp from previous response (required)"
                  }
                }
              },
              "examples": {
                "updateQuantity": {
                  "summary": "Update quantity only",
                  "description": "Example: Updating quantity to 5, price calculated automatically as 5  120 = 600",
                  "value": {
                    "quantity": 5,
                    "updatedBy": 1,
                    "concurrencyStamp": "550e8400-e29b-41d4-a716-446655440000"
                  }
                },
                "updateCombo": {
                  "summary": "Update combo status",
                  "description": "Example: Updating to combo with quantity 2, price calculated automatically as combo price per set 324 (PERCENT discount)",
                  "value": {
                    "quantity": 2,
                    "comboId": 10,
                    "updatedBy": 1,
                    "concurrencyStamp": "550e8400-e29b-41d4-a716-446655440000"
                  }
                },
                "removeItem": {
                  "summary": "Remove item (set quantity to 0)",
                  "value": {
                    "quantity": 0,
                    "updatedBy": 1,
                    "concurrencyStamp": "550e8400-e29b-41d4-a716-446655440000"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Cart item updated successfully or removed (if quantity is 0)",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string",
                  "format": "uuid"
                },
                "description": "New concurrency stamp for optimistic locking"
              },
              "message": {
                "schema": {
                  "type": "string"
                },
                "example": "successfully updated."
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "item removed from cart"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "success": {
                          "type": "boolean",
                          "example": true
                        },
                        "message": {
                          "type": "string",
                          "example": "successfully updated"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Validation error (price mismatch, combo validation failed, etc.)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Price must be 240 for regular pricing (2  120)"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Cart item updated successfully",
                    "value": {
                      "success": true,
                      "message": "successfully updated"
                    }
                  },
                  "itemRemoved": {
                    "summary": "Item removed (quantity set to 0)",
                    "value": {
                      "message": "item removed from cart"
                    }
                  },
                  "concurrencyError": {
                    "summary": "Concurrency conflict",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Concurrency error"
                      }
                    }
                  },
                  "priceMismatch": {
                    "summary": "Price validation error",
                    "value": {
                      "success": false,
                      "errors": {
                        "message": "Price must be 240 for regular pricing (2  120)"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Cart item not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Cart item not found"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Concurrency conflict - cart item was modified by another request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "errors": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Concurrency error"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/save-category": {
      "post": {
        "summary": "Create a new category",
        "tags": [
          "Categories",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "description",
                  "branchId",
                  "vendorId"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Electronics",
                    "description": "Category title (required)"
                  },
                  "description": {
                    "type": "string",
                    "example": "Electronic devices and accessories",
                    "description": "Category description (required)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (required)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (required)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Category status (optional, defaults to ACTIVE)"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Category image file (required)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Category created successfully"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "title": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-category": {
      "post": {
        "summary": "Get categories with pagination",
        "tags": [
          "Categories",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Categories retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "title": {
                            "type": "string"
                          },
                          "description": {
                            "type": "string"
                          },
                          "imageUrl": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-category/{id}": {
      "patch": {
        "summary": "Update a category",
        "tags": [
          "Categories",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Category ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Updated Category Name",
                    "description": "Category title (optional)"
                  },
                  "description": {
                    "type": "string",
                    "example": "Updated description",
                    "description": "Category description (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (optional)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Category status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the category"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Category image file (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-category-details/{categoryId}": {
      "get": {
        "summary": "Get detailed category information",
        "tags": [
          "Categories",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "categoryId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Category ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Category details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "image": {
                          "type": "string"
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "subcategory_count": {
                              "type": "integer"
                            },
                            "product_count": {
                              "type": "integer"
                            }
                          }
                        },
                        "sub_categories": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        },
                        "products": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Category not found"
          }
        }
      }
    },
    "/api/get-dashboard-kpis": {
      "post": {
        "summary": "Get dashboard KPIs (Total Users, Orders, Revenue, Returns) with trends",
        "tags": [
          "Dashboard",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Filter by vendor ID (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Filter by branch ID (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dashboard KPIs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "total_users": {
                          "type": "object",
                          "properties": {
                            "value": {
                              "type": "integer",
                              "example": 40689
                            },
                            "change": {
                              "type": "number",
                              "example": 8.5
                            },
                            "change_type": {
                              "type": "string",
                              "enum": [
                                "up",
                                "down"
                              ]
                            },
                            "period": {
                              "type": "string",
                              "example": "yesterday"
                            }
                          }
                        },
                        "total_orders": {
                          "type": "object"
                        },
                        "revenue": {
                          "type": "object"
                        },
                        "total_returns": {
                          "type": "object"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-top-products": {
      "post": {
        "summary": "Get top products with revenue, orders, and trend",
        "tags": [
          "Dashboard",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "vendorId": {
                    "type": "integer"
                  },
                  "branchId": {
                    "type": "integer"
                  },
                  "limit": {
                    "type": "integer",
                    "default": 5,
                    "example": 5
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-12-01",
                    "description": "Start date for filtering (optional, ISO format)"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2026-01-31",
                    "description": "End date for filtering (optional, ISO format)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Top products retrieved successfully"
          }
        }
      }
    },
    "/api/get-recent-orders": {
      "post": {
        "summary": "Get recent orders with status, customer, time, price",
        "tags": [
          "Dashboard",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "vendorId": {
                    "type": "integer"
                  },
                  "branchId": {
                    "type": "integer"
                  },
                  "limit": {
                    "type": "integer",
                    "default": 5,
                    "example": 5
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-12-01",
                    "description": "Start date for filtering (optional, ISO format)"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2026-01-31",
                    "description": "End date for filtering (optional, ISO format)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Recent orders retrieved successfully"
          }
        }
      }
    },
    "/api/get-expiring-products": {
      "post": {
        "summary": "Get expiring products/variants with pagination",
        "tags": [
          "Dashboard",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Filter by vendor ID (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Filter by branch ID (optional)"
                  },
                  "daysAhead": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 30,
                    "example": 30,
                    "description": "Number of days ahead to check for expiring products (default: 30)"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Expiring products retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "variant_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "variant_name": {
                            "type": "string",
                            "example": "200g"
                          },
                          "product_id": {
                            "type": "integer",
                            "example": 10
                          },
                          "product_name": {
                            "type": "string",
                            "example": "Cheese"
                          },
                          "category_id": {
                            "type": "integer",
                            "example": 1
                          },
                          "category_name": {
                            "type": "string",
                            "example": "Dairy"
                          },
                          "stock": {
                            "type": "integer",
                            "example": 8
                          },
                          "price": {
                            "type": "number",
                            "example": 120
                          },
                          "expiry_date": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "expiry_date_formatted": {
                            "type": "string",
                            "example": "Jan 17, 2026"
                          },
                          "expiry_status": {
                            "type": "string",
                            "example": "Expired 2 days ago"
                          },
                          "expiry_status_type": {
                            "type": "string",
                            "enum": [
                              "expired",
                              "expiring_today",
                              "expiring_soon"
                            ],
                            "example": "expired"
                          },
                          "days_until_expiry": {
                            "type": "integer",
                            "example": -2,
                            "description": "Negative for expired, 0 for today, positive for future"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "pageSize": {
                          "type": "integer"
                        },
                        "pageNumber": {
                          "type": "integer"
                        },
                        "totalCount": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/test": {
      "get": {
        "summary": "Test endpoint",
        "tags": [
          "Test",
          "BOTH"
        ],
        "description": "Simple test endpoint to verify API is working",
        "responses": {
          "200": {
            "description": "Welcome message",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Welcome to mk store backend"
                }
              }
            }
          }
        }
      }
    },
    "/api/get-inventory-movements": {
      "post": {
        "summary": "Get inventory movement history (VENDOR_ADMIN only)",
        "tags": [
          "Inventory",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "integer"
                  },
                  "variantId": {
                    "type": "integer"
                  },
                  "vendorId": {
                    "type": "integer"
                  },
                  "branchId": {
                    "type": "integer"
                  },
                  "movementType": {
                    "type": "string",
                    "enum": [
                      "ADDED",
                      "REMOVED",
                      "ADJUSTED",
                      "REVERTED"
                    ]
                  },
                  "dateFrom": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "dateTo": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                  },
                  "filters": {
                    "type": "array"
                  },
                  "sorting": {
                    "type": "array"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Inventory movements retrieved successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/adjust-inventory": {
      "post": {
        "summary": "Manual inventory adjustment (VENDOR_ADMIN only)",
        "tags": [
          "Inventory",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId",
                  "quantityChange"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1
                  },
                  "variantId": {
                    "type": "integer",
                    "example": 5
                  },
                  "quantityChange": {
                    "type": "integer",
                    "example": 10,
                    "description": "Positive for increase, negative for decrease"
                  },
                  "notes": {
                    "type": "string",
                    "example": "Stock adjustment due to damaged items"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Inventory adjusted successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-notifications": {
      "post": {
        "summary": "Get notifications with pagination",
        "tags": [
          "Notifications",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object"
                    },
                    "description": "Array of sorting objects"
                  },
                  "recipientId": {
                    "type": "integer",
                    "description": "Filter by recipient ID"
                  },
                  "recipientType": {
                    "type": "string",
                    "enum": [
                      "USER",
                      "VENDOR",
                      "BRANCH",
                      "ADMIN",
                      "ALL"
                    ],
                    "description": "Filter by recipient type"
                  },
                  "vendorId": {
                    "type": "integer",
                    "description": "Filter by vendor ID"
                  },
                  "branchId": {
                    "type": "integer",
                    "description": "Filter by branch ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Notifications retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object"
                      }
                    },
                    "pagination": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-unread-notification-count": {
      "get": {
        "summary": "Get unread notification count",
        "tags": [
          "Notifications",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "vendorId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by vendor ID"
          },
          {
            "in": "query",
            "name": "branchId",
            "schema": {
              "type": "integer"
            },
            "description": "Filter by branch ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Unread count retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "count": {
                      "type": "integer",
                      "example": 5
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/mark-notification-read/{notificationId}": {
      "patch": {
        "summary": "Mark notification as read",
        "tags": [
          "Notifications",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notificationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Notification ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification marked as read"
          },
          "404": {
            "description": "Notification not found"
          }
        }
      }
    },
    "/api/mark-all-notifications-read": {
      "patch": {
        "summary": "Mark all notifications as read",
        "tags": [
          "Notifications",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "All notifications marked as read"
          }
        }
      }
    },
    "/api/delete-notification/{notificationId}": {
      "delete": {
        "summary": "Delete notification",
        "tags": [
          "Notifications",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "notificationId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Notification ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Notification deleted successfully"
          },
          "404": {
            "description": "Notification not found"
          }
        }
      }
    },
    "/api/save-offer": {
      "post": {
        "summary": "Create a new offer",
        "tags": [
          "Offers",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "discount"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Summer Sale"
                  },
                  "description": {
                    "type": "string",
                    "example": "Get amazing discounts this summer"
                  },
                  "discount": {
                    "type": "number",
                    "example": 30
                  },
                  "discountType": {
                    "type": "string",
                    "enum": [
                      "PERCENTAGE",
                      "FIXED"
                    ],
                    "example": "PERCENTAGE"
                  },
                  "validFrom": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-06-01T00:00:00Z"
                  },
                  "validTo": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-08-31T23:59:59Z"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Offer banner image"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Offer created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "successfully added"
                    },
                    "doc": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-offer": {
      "post": {
        "summary": "Get offers with pagination",
        "tags": [
          "Offers",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Offers retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "title": {
                            "type": "string"
                          },
                          "discount": {
                            "type": "number"
                          },
                          "discountType": {
                            "type": "string"
                          },
                          "validFrom": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "validTo": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "imageUrl": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-offer/{id}": {
      "patch": {
        "summary": "Update an offer",
        "tags": [
          "Offers",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Offer ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "discount": {
                    "type": "number"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ]
                  },
                  "validFrom": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "validTo": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Offer updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/place-order": {
      "post": {
        "summary": "Place a new order from cart items",
        "tags": [
          "Orders",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vendorId",
                  "branchId"
                ],
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (required)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID where order is placed (required - must belong to vendorId)"
                  },
                  "createdBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is placing the order (optional, can be extracted from token)"
                  },
                  "addressId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Existing address ID (optional - if not provided, address fields must be provided)"
                  },
                  "houseNo": {
                    "type": "string",
                    "example": "123",
                    "description": "House number for new address (optional - required if addressId not provided)"
                  },
                  "streetDetails": {
                    "type": "string",
                    "example": "Main Street",
                    "description": "Street details for new address (optional - required if addressId not provided)"
                  },
                  "landmark": {
                    "type": "string",
                    "example": "Near Park",
                    "description": "Landmark for new address (optional - required if addressId not provided)"
                  },
                  "name": {
                    "type": "string",
                    "example": "John Doe",
                    "description": "Name for delivery address (optional - required if addressId not provided)"
                  },
                  "mobileNumber": {
                    "type": "string",
                    "example": "9876543210",
                    "description": "Mobile number for delivery address (optional - required if addressId not provided)"
                  },
                  "offerCode": {
                    "type": "string",
                    "example": "SUMMER20",
                    "description": "Offer code to apply discount (optional - cannot be used with promocodeId)"
                  },
                  "promocodeId": {
                    "type": "integer",
                    "example": 5,
                    "description": "Promo code ID to apply discount (optional - cannot be used with offerCode)"
                  },
                  "orderPriority": {
                    "type": "string",
                    "enum": [
                      "NORMAL",
                      "EXPRESS",
                      "URGENT"
                    ],
                    "example": "NORMAL",
                    "default": "NORMAL",
                    "description": "Order priority level (optional, defaults to NORMAL)"
                  },
                  "estimatedDeliveryTime": {
                    "type": "integer",
                    "example": 60,
                    "description": "Estimated delivery time in minutes (optional)"
                  },
                  "shippingCharges": {
                    "type": "number",
                    "example": 50,
                    "default": 0,
                    "description": "Shipping/delivery charges (optional, defaults to 0)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order placed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Order placed successfully"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "order_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "order_number": {
                          "type": "string",
                          "example": "ORD-20250115-000001"
                        },
                        "total_amount": {
                          "type": "number",
                          "example": 1500
                        },
                        "discount_amount": {
                          "type": "number",
                          "example": 150
                        },
                        "shipping_charges": {
                          "type": "number",
                          "example": 50
                        },
                        "final_amount": {
                          "type": "number",
                          "example": 1400
                        },
                        "order_priority": {
                          "type": "string",
                          "example": "NORMAL"
                        },
                        "estimated_delivery_time": {
                          "type": "integer",
                          "example": 60
                        },
                        "item_count": {
                          "type": "integer",
                          "example": 3
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or business logic error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Cannot apply both offer code and promo code. Please choose one."
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-order": {
      "post": {
        "summary": "Get user orders with pagination, filters, and sorting",
        "tags": [
          "Orders",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string",
                          "example": "status"
                        },
                        "eq": {
                          "type": "string",
                          "example": "PENDING"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string",
                          "example": "created_at"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Orders retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "total_amount": {
                            "type": "number"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "PENDING",
                              "CONFIRMED",
                              "SHIPPED",
                              "DELIVERED",
                              "CANCELLED"
                            ]
                          },
                          "payment_status": {
                            "type": "string",
                            "enum": [
                              "PAID",
                              "UNPAID",
                              "FAILED"
                            ]
                          },
                          "branch_id": {
                            "type": "integer"
                          },
                          "address": {
                            "type": "object"
                          },
                          "user": {
                            "type": "object"
                          },
                          "orderDiscount": {
                            "type": "object",
                            "nullable": true
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    },
                    "pagination": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-stats-of-orders-completed": {
      "get": {
        "summary": "Get statistics of completed orders",
        "tags": [
          "Orders",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Order statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "month": {
                            "type": "string",
                            "example": "January"
                          },
                          "totalAmount": {
                            "type": "string",
                            "example": "15000.00"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-order/{id}": {
      "patch": {
        "summary": "Update order status and/or payment status",
        "tags": [
          "Orders",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Order ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "PENDING",
                      "CONFIRMED",
                      "SHIPPED",
                      "DELIVERED",
                      "CANCELLED"
                    ],
                    "example": "CONFIRMED",
                    "description": "New order status (optional)"
                  },
                  "paymentStatus": {
                    "type": "string",
                    "enum": [
                      "PAID",
                      "UNPAID",
                      "FAILED"
                    ],
                    "example": "PAID",
                    "description": "New payment status (optional)"
                  },
                  "orderPriority": {
                    "type": "string",
                    "enum": [
                      "NORMAL",
                      "EXPRESS",
                      "URGENT"
                    ],
                    "example": "EXPRESS",
                    "description": "Order priority level (optional)"
                  },
                  "estimatedDeliveryTime": {
                    "type": "integer",
                    "example": 30,
                    "description": "Estimated delivery time in minutes (optional)"
                  },
                  "discountAmount": {
                    "type": "number",
                    "example": 100,
                    "description": "Discount amount (optional - will recalculate final_amount if updated)"
                  },
                  "shippingCharges": {
                    "type": "number",
                    "example": 50,
                    "description": "Shipping/delivery charges (optional - will recalculate final_amount if updated)"
                  },
                  "finalAmount": {
                    "type": "number",
                    "example": 1450,
                    "description": "Final amount after all adjustments (optional - if not provided, will be calculated)"
                  },
                  "refundAmount": {
                    "type": "number",
                    "example": 0,
                    "description": "Refund amount (optional)"
                  },
                  "refundStatus": {
                    "type": "string",
                    "enum": [
                      "NONE",
                      "PENDING",
                      "PROCESSED",
                      "FAILED"
                    ],
                    "example": "NONE",
                    "description": "Refund status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the order (required)"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response (required)"
                  },
                  "notes": {
                    "type": "string",
                    "example": "Order cancelled due to customer request",
                    "description": "Optional notes for status change (e.g., cancellation reason)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "successfully updated"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Concurrency error"
          }
        }
      }
    },
    "/api/get-total-returns-of-today": {
      "get": {
        "summary": "Get total returns for today",
        "tags": [
          "Orders",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Returns count retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "total": {
                      "type": "string",
                      "example": "5000.00"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-order-details": {
      "post": {
        "summary": "Get detailed order information including items, discounts, customer, and address",
        "tags": [
          "Orders",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "orderId"
                ],
                "properties": {
                  "orderId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Order ID to fetch details for"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "order_id": {
                          "type": "integer"
                        },
                        "order_number": {
                          "type": "string"
                        },
                        "order_items": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "integer"
                              },
                              "product": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "integer"
                                  },
                                  "title": {
                                    "type": "string"
                                  },
                                  "image": {
                                    "type": "string"
                                  }
                                }
                              },
                              "quantity": {
                                "type": "integer"
                              },
                              "unit_price": {
                                "type": "number"
                              },
                              "discount": {
                                "type": "number"
                              },
                              "total": {
                                "type": "number"
                              }
                            }
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "subtotal": {
                              "type": "number"
                            },
                            "discount": {
                              "type": "number"
                            },
                            "shipping": {
                              "type": "number"
                            },
                            "total": {
                              "type": "number"
                            }
                          }
                        },
                        "applied_discounts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "promocode",
                                  "offer"
                                ]
                              },
                              "code": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "discount_amount": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "customer_information": {
                          "type": "object",
                          "properties": {
                            "name": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "mobile_number": {
                              "type": "string"
                            }
                          }
                        },
                        "delivery_address": {
                          "type": "object",
                          "properties": {
                            "recipient_name": {
                              "type": "string"
                            },
                            "address_line_1": {
                              "type": "string"
                            },
                            "address_line_2": {
                              "type": "string"
                            },
                            "street_details": {
                              "type": "string"
                            },
                            "landmark": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "state": {
                              "type": "string"
                            },
                            "country": {
                              "type": "string"
                            },
                            "postal_code": {
                              "type": "string"
                            },
                            "mobile_number": {
                              "type": "string"
                            }
                          }
                        },
                        "order_information": {
                          "type": "object",
                          "properties": {
                            "order_date": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "estimated_delivery": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "priority": {
                              "type": "string",
                              "enum": [
                                "NORMAL",
                                "EXPRESS",
                                "URGENT"
                              ]
                            },
                            "payment_status": {
                              "type": "string",
                              "enum": [
                                "PAID",
                                "UNPAID",
                                "FAILED"
                              ]
                            },
                            "order_status": {
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Order not found"
          }
        }
      }
    },
    "/api/get-order-item": {
      "post": {
        "summary": "Get order items",
        "tags": [
          "OrderItems",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order items retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "order_id": {
                            "type": "string"
                          },
                          "productId": {
                            "type": "string"
                          },
                          "product": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "price": {
                                "type": "number"
                              }
                            }
                          },
                          "quantity": {
                            "type": "integer"
                          },
                          "price": {
                            "type": "number"
                          },
                          "totalPrice": {
                            "type": "number"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/send-otp-sms-for-user": {
      "post": {
        "summary": "Send OTP to SMS for user (creates user if new mobile number)",
        "tags": [
          "OTP",
          "CLIENT"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "mobileNumber",
                  "vendorId"
                ],
                "properties": {
                  "mobileNumber": {
                    "type": "string",
                    "pattern": "^\\+[1-9]\\d{1,14}$",
                    "example": "+1234567890",
                    "description": "Mobile number in E.164 format"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "SMS sent successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error sending SMS"
          }
        }
      }
    },
    "/api/verify-otp-sms-for-user": {
      "post": {
        "summary": "Verify OTP sent via SMS and login user",
        "tags": [
          "OTP",
          "CLIENT"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "mobileNumber",
                  "otp",
                  "vendorId"
                ],
                "properties": {
                  "mobileNumber": {
                    "type": "string",
                    "pattern": "^\\+[1-9]\\d{1,14}$",
                    "example": "+1234567890",
                    "description": "Mobile number in E.164 format"
                  },
                  "otp": {
                    "type": "string",
                    "example": "123456",
                    "description": "OTP code received via SMS"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OTP verified successfully, user logged in",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "doc": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "OTP verified successfully. User logged in."
                        },
                        "user": {
                          "type": "object",
                          "description": "User data (without password)",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 1
                            },
                            "name": {
                              "type": "string",
                              "example": "John Doe"
                            },
                            "mobileNumber": {
                              "type": "string",
                              "example": "+1234567890"
                            },
                            "email": {
                              "type": "string",
                              "example": "john@example.com"
                            },
                            "status": {
                              "type": "string",
                              "example": "ACTIVE"
                            },
                            "profileStatus": {
                              "type": "string",
                              "example": "COMPLETE"
                            },
                            "roleName": {
                              "type": "string",
                              "example": "user"
                            },
                            "vendorId": {
                              "type": "integer",
                              "example": 1
                            }
                          }
                        },
                        "token": {
                          "type": "string",
                          "description": "JWT access token"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired OTP"
          }
        }
      }
    },
    "/api/save-product": {
      "post": {
        "summary": "Create a new product",
        "tags": [
          "Products",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "categoryId",
                  "vendorId",
                  "branchId",
                  "variants"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Wireless Headphones",
                    "description": "Product title (required)"
                  },
                  "categoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Category ID (required)"
                  },
                  "subCategoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Subcategory ID (optional)"
                  },
                  "brandId": {
                    "type": "integer",
                    "nullable": true,
                    "example": 1,
                    "description": "Brand ID (optional, can be null)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (required)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (required)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Product status (optional, defaults to ACTIVE)"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Multiple product image files (optional, max 3 images per product)"
                  },
                  "variants": {
                    "type": "string",
                    "description": "JSON string array of variant objects (REQUIRED - at least one variant). Each variant must include: variantName (required), description (optional), nutritional (optional), price (required), sellingPrice (required), quantity (required), itemsPerUnit (optional), units (optional), itemQuantity (optional), itemUnit (optional), expiryDate (required), status (optional), comboDiscounts (optional array). Each comboDiscount object includes: comboQuantity (required), discountType (required: PERCENT or FLATOFF), discountValue (required), startDate (required), endDate (required), status (optional)",
                    "example": "[{\"variantName\":\"500g\",\"description\":\"Fresh product\",\"nutritional\":\"Calories: 100\",\"price\":500,\"sellingPrice\":450,\"quantity\":100,\"itemsPerUnit\":2,\"units\":\"PCS\",\"expiryDate\":\"2024-12-31\",\"status\":\"ACTIVE\",\"comboDiscounts\":[{\"comboQuantity\":2,\"discountType\":\"PERCENT\",\"discountValue\":10,\"startDate\":\"2024-01-01\",\"endDate\":\"2024-12-31\",\"status\":\"ACTIVE\"}]}]"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Product created successfully"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "title": {
                          "type": "string"
                        },
                        "price": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-product": {
      "post": {
        "summary": "Get products with pagination and filters",
        "tags": [
          "Products",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  },
                  "hasActiveComboDiscounts": {
                    "type": "boolean",
                    "default": false,
                    "description": "When true, only products with at least one variant having a currently valid active combo discount (status ACTIVE and current date between start_date and end_date) are returned"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Products retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "title": {
                            "type": "string"
                          },
                          "price": {
                            "type": "number"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer",
                      "example": 50
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/search-product": {
      "post": {
        "summary": "Fuzzy search products by title",
        "description": "Searches ACTIVE products by title using case-insensitive partial match (LIKE %query%).\nOptional filters narrow results by branchId, vendorId, categoryId, subCategoryId.\nResponse shape matches get-product (product list with category, subCategory, brand, variants, images, comboDiscounts with discount_price).\n",
        "tags": [
          "Products",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "searchQuery"
                ],
                "properties": {
                  "searchQuery": {
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200,
                    "example": "oil",
                    "description": "Search term (matched against product title)"
                  },
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                  },
                  "branchId": {
                    "type": "integer",
                    "description": "Optional filter by branch"
                  },
                  "vendorId": {
                    "type": "integer",
                    "description": "Optional filter by vendor"
                  },
                  "categoryId": {
                    "type": "integer",
                    "description": "Optional filter by category"
                  },
                  "subCategoryId": {
                    "type": "integer",
                    "description": "Optional filter by subcategory"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Paginated search results (same structure as get-product)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "title": {
                            "type": "string"
                          },
                          "category": {
                            "type": "object"
                          },
                          "subCategory": {
                            "type": "object"
                          },
                          "brand": {
                            "type": "object"
                          },
                          "variants": {
                            "type": "array"
                          },
                          "images": {
                            "type": "array"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error (e.g. searchQuery missing or empty)"
          }
        }
      }
    },
    "/api/update-product/{id}": {
      "patch": {
        "summary": "Update a product",
        "tags": [
          "Products",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Product ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Updated Product Name",
                    "description": "Product title (optional)"
                  },
                  "categoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Category ID (optional)"
                  },
                  "subCategoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Subcategory ID (optional)"
                  },
                  "brandId": {
                    "type": "integer",
                    "nullable": true,
                    "example": 1,
                    "description": "Brand ID (optional, can be null)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (optional)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Product status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the product (required)"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response (required)"
                  },
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Multiple product image files (optional, max 3 images per product)"
                  },
                  "variants": {
                    "type": "string",
                    "description": "JSON string array of variant objects (optional). For updates include id and concurrencyStamp. For new omit id. Each variant must include: variantName (required), description (optional), nutritional (optional), price (required), sellingPrice (required), quantity (required), itemsPerUnit (optional), units (optional), itemQuantity (optional), itemUnit (optional), expiryDate (required), status (optional), comboDiscounts (optional array). For comboDiscounts: include id and concurrencyStamp for updates, omit id for creates, set deleted:true for deletes. At least one variant must remain after all operations. discountType supports PERCENT or FLATOFF.",
                    "example": "[{\"id\":1,\"variantName\":\"500g\",\"description\":\"Fresh product\",\"nutritional\":\"Calories: 100\",\"price\":500,\"sellingPrice\":450,\"quantity\":100,\"itemsPerUnit\":2,\"units\":\"PCS\",\"expiryDate\":\"2024-12-31\",\"concurrencyStamp\":\"stamp\",\"status\":\"ACTIVE\",\"comboDiscounts\":[{\"id\":10,\"concurrencyStamp\":\"cd-stamp\",\"comboQuantity\":3,\"discountType\":\"PERCENT\",\"discountValue\":15,\"startDate\":\"2024-01-01\",\"endDate\":\"2024-12-31\"},{\"comboQuantity\":10,\"discountType\":\"PERCENT\",\"discountValue\":20,\"startDate\":\"2024-01-01\",\"endDate\":\"2024-12-31\"},{\"id\":11,\"deleted\":true}]},{\"variantName\":\"1kg\",\"description\":\"Fresh product\",\"nutritional\":\"Calories: 200\",\"price\":900,\"sellingPrice\":800,\"quantity\":50,\"itemsPerUnit\":1,\"units\":\"PCS\",\"expiryDate\":\"2024-12-31\",\"status\":\"ACTIVE\"}]"
                  },
                  "variantIdsToDelete": {
                    "type": "string",
                    "description": "JSON string array of variant IDs to delete (optional). Example: '[2,3]'. Note: At least one variant must remain after deletion.",
                    "example": "[2,3]"
                  },
                  "imagesData": {
                    "type": "string",
                    "description": "JSON string array of image objects (optional). For updates include id and concurrencyStamp. For new include imageUrl. Each image can include: id (optional for updates), imageUrl (required for new), isDefault (optional), displayOrder (optional), variantId (optional), status (optional), concurrencyStamp (required for updates)",
                    "example": "[{\"id\":1,\"isDefault\":true,\"displayOrder\":1,\"concurrencyStamp\":\"stamp\"},{\"imageUrl\":\"https://example.com/new.jpg\",\"isDefault\":false,\"displayOrder\":2}]"
                  },
                  "imageIdsToDelete": {
                    "type": "string",
                    "description": "JSON string array of image IDs to delete (optional). Example: '[4,5]'",
                    "example": "[4,5]"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-products-by-category": {
      "post": {
        "summary": "Get products grouped by category",
        "tags": [
          "Products",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Products grouped by category",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "example": 1
                            },
                            "title": {
                              "type": "string"
                            },
                            "price": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/delete-product": {
      "delete": {
        "summary": "Delete a product",
        "tags": [
          "Products",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "productId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Product ID to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Product deleted successfully",
            "headers": {
              "message": {
                "schema": {
                  "type": "string"
                },
                "example": "Product deleted successfully"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error deleting product"
          }
        }
      }
    },
    "/api/get-product-details/{productId}": {
      "get": {
        "summary": "Get detailed product information",
        "tags": [
          "Products",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "productId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Product ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Product details retrieved successfully. Each variant's comboDiscounts entries include discount_price (discounted price for ONE combo set).",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "price": {
                          "type": "number"
                        },
                        "selling_price": {
                          "type": "number"
                        },
                        "image": {
                          "type": "string"
                        },
                        "category": {
                          "type": "object"
                        },
                        "subCategory": {
                          "type": "object"
                        },
                        "brand": {
                          "type": "object"
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "cart_count": {
                              "type": "integer"
                            },
                            "wishlist_count": {
                              "type": "integer"
                            },
                            "order_count": {
                              "type": "integer"
                            }
                          }
                        },
                        "related_products": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        }
      }
    },
    "/api/get-product-stats": {
      "post": {
        "summary": "Get product statistics",
        "tags": [
          "Products",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Product ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "product_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "product_title": {
                          "type": "string",
                          "example": "Wireless Headphones"
                        },
                        "total_orders": {
                          "type": "integer",
                          "example": 156,
                          "description": "Total number of orders for this product"
                        },
                        "units_sold": {
                          "type": "integer",
                          "example": 234,
                          "description": "Total units sold"
                        },
                        "revenue_generated": {
                          "type": "number",
                          "example": 23400000,
                          "description": "Total revenue generated in base currency"
                        },
                        "current_stock": {
                          "type": "integer",
                          "example": 0,
                          "description": "Current stock available (sum of all variant quantities)"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Product not found"
          }
        }
      }
    },
    "/api/save-product-images": {
      "post": {
        "summary": "Upload multiple product images",
        "tags": [
          "Product Images",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "productId",
                  "files"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1
                  },
                  "variantId": {
                    "type": "integer",
                    "example": 5
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Image files (max 10 images)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product images uploaded successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-product-images": {
      "post": {
        "summary": "Get product images with pagination",
        "tags": [
          "Product Images",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1
                  },
                  "variantId": {
                    "type": "integer",
                    "example": 5
                  },
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product images retrieved successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/update-product-image/{id}": {
      "post": {
        "summary": "Update product image (is_default, display_order)",
        "tags": [
          "Product Images",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "concurrencyStamp"
                ],
                "properties": {
                  "isDefault": {
                    "type": "boolean"
                  },
                  "displayOrder": {
                    "type": "integer"
                  },
                  "concurrencyStamp": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product image updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Concurrency error"
          }
        }
      }
    },
    "/api/delete-product-image/{id}": {
      "post": {
        "summary": "Delete product image (soft delete)",
        "tags": [
          "Product Images",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product image deleted successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/save-product-type": {
      "post": {
        "summary": "Create a new product type (e.g. Groundnut Oil under Oil and ghee subcategory)",
        "tags": [
          "Product Types",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "subCategoryId",
                  "title"
                ],
                "properties": {
                  "subCategoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Subcategory ID"
                  },
                  "title": {
                    "type": "string",
                    "example": "Groundnut Oil",
                    "description": "Product type title (unique per subcategory)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "default": "ACTIVE"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product type created successfully"
          },
          "400": {
            "description": "Validation error or duplicate title for subcategory"
          }
        }
      }
    },
    "/api/get-product-type": {
      "post": {
        "summary": "Get product types with pagination and filters",
        "tags": [
          "Product Types",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product types retrieved successfully"
          }
        }
      }
    },
    "/api/update-product-type/{id}": {
      "patch": {
        "summary": "Update a product type",
        "tags": [
          "Product Types",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Groundnut Oil"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ]
                  },
                  "updatedBy": {
                    "type": "integer"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product type updated successfully"
          },
          "409": {
            "description": "Concurrency conflict"
          }
        }
      }
    },
    "/api/save-product-variant": {
      "post": {
        "summary": "Create a new product variant",
        "tags": [
          "Product Variants",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId",
                  "variantName",
                  "price",
                  "sellingPrice",
                  "quantity"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1
                  },
                  "variantName": {
                    "type": "string",
                    "example": "500g"
                  },
                  "price": {
                    "type": "number",
                    "example": 500
                  },
                  "sellingPrice": {
                    "type": "number",
                    "example": 450
                  },
                  "quantity": {
                    "type": "integer",
                    "example": 100
                  },
                  "itemQuantity": {
                    "type": "number",
                    "example": 0.5
                  },
                  "itemUnit": {
                    "type": "string",
                    "enum": [
                      "KG",
                      "G",
                      "LTR",
                      "ML",
                      "etc."
                    ],
                    "example": "KG"
                  },
                  "expiryDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2024-12-31",
                    "description": "Variant expiry date (required)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Product variant created successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-product-variants": {
      "post": {
        "summary": "Get product variants with pagination and filtering",
        "tags": [
          "Product Variants",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "integer",
                    "example": 1
                  },
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1
                  },
                  "filters": {
                    "type": "array"
                  },
                  "sorting": {
                    "type": "array"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product variants retrieved successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-variant-by-id/{variantId}": {
      "get": {
        "summary": "Get product variant by ID",
        "tags": [
          "Product Variants",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "variantId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product variant retrieved successfully"
          },
          "404": {
            "description": "Variant not found"
          }
        }
      }
    },
    "/api/update-product-variant/{id}": {
      "post": {
        "summary": "Update product variant",
        "tags": [
          "Product Variants",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "concurrencyStamp"
                ],
                "properties": {
                  "variantName": {
                    "type": "string"
                  },
                  "price": {
                    "type": "number"
                  },
                  "sellingPrice": {
                    "type": "number"
                  },
                  "quantity": {
                    "type": "integer"
                  },
                  "expiryDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2024-12-31",
                    "description": "Variant expiry date (optional)"
                  },
                  "concurrencyStamp": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Product variant updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "409": {
            "description": "Concurrency error"
          }
        }
      }
    },
    "/api/delete-product-variant/{id}": {
      "post": {
        "summary": "Delete product variant (soft delete)",
        "tags": [
          "Product Variants",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Product variant deleted successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-variants-by-type/{productId}": {
      "get": {
        "summary": "Get product variants grouped by type",
        "tags": [
          "Product Variants",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "productId",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Variants grouped by type"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/save-Promocode": {
      "post": {
        "summary": "Create a new promocode",
        "tags": [
          "Promocodes",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "code",
                  "discount",
                  "discountType"
                ],
                "properties": {
                  "code": {
                    "type": "string",
                    "example": "SAVE20"
                  },
                  "description": {
                    "type": "string",
                    "example": "Get 20% off on your order"
                  },
                  "discount": {
                    "type": "number",
                    "example": 20
                  },
                  "discountType": {
                    "type": "string",
                    "enum": [
                      "PERCENTAGE",
                      "FIXED"
                    ],
                    "example": "PERCENTAGE"
                  },
                  "minPurchaseAmount": {
                    "type": "number",
                    "example": 100
                  },
                  "maxDiscountAmount": {
                    "type": "number",
                    "example": 500
                  },
                  "validFrom": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-01-01T00:00:00Z"
                  },
                  "validTo": {
                    "type": "string",
                    "format": "date-time",
                    "example": "2025-12-31T23:59:59Z"
                  },
                  "usageLimit": {
                    "type": "integer",
                    "example": 100
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Promocode created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Promocode created successfully"
                    },
                    "doc": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-Promocode": {
      "post": {
        "summary": "Get promocodes with pagination",
        "tags": [
          "Promocodes",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Promocodes retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "code": {
                            "type": "string"
                          },
                          "discount": {
                            "type": "number"
                          },
                          "discountType": {
                            "type": "string"
                          },
                          "validFrom": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "validTo": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/update-Promocode/{id}": {
      "patch": {
        "summary": "Update a promocode",
        "tags": [
          "Promocodes",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Promocode ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  },
                  "discount": {
                    "type": "number"
                  },
                  "discountType": {
                    "type": "string",
                    "enum": [
                      "PERCENTAGE",
                      "FIXED"
                    ]
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ]
                  },
                  "validFrom": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "validTo": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Promocode updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/rider-stats": {
      "get": {
        "summary": "Get rider statistics",
        "tags": [
          "Rider Stats",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "vendorId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Vendor ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Rider statistics retrieved successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "put": {
        "summary": "Update rider statistics",
        "tags": [
          "Rider Stats",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "vendorId"
                ],
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "example": 1
                  },
                  "totalOrders": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 10
                  },
                  "totalDeliveries": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 8
                  },
                  "completedOrders": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 7
                  },
                  "cancelledOrders": {
                    "type": "integer",
                    "minimum": 0,
                    "example": 1
                  },
                  "rating": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 5,
                    "nullable": true,
                    "example": 4.5
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Rider statistics updated successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/check-serviceability": {
      "post": {
        "summary": "Fast serviceability check using Haversine distance",
        "tags": [
          "Shipping",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "branchId",
                  "latitude",
                  "longitude"
                ],
                "properties": {
                  "branchId": {
                    "type": "integer",
                    "example": 1
                  },
                  "latitude": {
                    "type": "number",
                    "example": 12.9716
                  },
                  "longitude": {
                    "type": "number",
                    "example": 77.5946
                  },
                  "maxDistance": {
                    "type": "number",
                    "default": 10,
                    "description": "Maximum serviceable distance in km"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Serviceability check completed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "serviceable": {
                          "type": "boolean"
                        },
                        "distance": {
                          "type": "number"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/find-nearby-branches": {
      "post": {
        "summary": "Find nearby branches using Haversine distance",
        "tags": [
          "Shipping",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "latitude",
                  "longitude"
                ],
                "properties": {
                  "latitude": {
                    "type": "number",
                    "example": 12.9716
                  },
                  "longitude": {
                    "type": "number",
                    "example": 77.5946
                  },
                  "maxDistance": {
                    "type": "number",
                    "default": 10,
                    "description": "Maximum distance in km"
                  },
                  "vendorId": {
                    "type": "integer",
                    "description": "Filter by vendor ID (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Nearby branches found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "branch": {
                            "type": "object"
                          },
                          "distance": {
                            "type": "number"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/calculate-shipping-charges": {
      "post": {
        "summary": "Calculate shipping charges using road-distance API (cached) with Haversine fallback.",
        "description": "Use this endpoint to show shipping charges to customers before they place an order.",
        "tags": [
          "Shipping",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "branchId",
                  "orderAmount"
                ],
                "properties": {
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID for shipping calculation"
                  },
                  "addressId": {
                    "type": "integer",
                    "example": 5,
                    "description": "Optional - Saved address ID. If provided, latitude and longitude will be fetched from the address. Either addressId or (latitude and longitude) must be provided."
                  },
                  "latitude": {
                    "type": "number",
                    "example": 12.9716,
                    "description": "Optional - Address latitude. Required if addressId is not provided. Must be provided together with longitude."
                  },
                  "longitude": {
                    "type": "number",
                    "example": 77.5946,
                    "description": "Optional - Address longitude. Required if addressId is not provided. Must be provided together with latitude."
                  },
                  "orderAmount": {
                    "type": "number",
                    "example": 250,
                    "description": "Total order amount (used to determine if shipping is free based on thresholds)"
                  },
                  "deliveryType": {
                    "type": "string",
                    "enum": [
                      "SAME_DAY",
                      "NEXT_DAY"
                    ],
                    "default": "NEXT_DAY",
                    "description": "Delivery type - SAME_DAY for express/urgent orders, NEXT_DAY for normal orders"
                  }
                }
              },
              "examples": {
                "usingAddressId": {
                  "summary": "Using saved address",
                  "value": {
                    "branchId": 1,
                    "addressId": 5,
                    "orderAmount": 250,
                    "deliveryType": "NEXT_DAY"
                  }
                },
                "usingCoordinates": {
                  "summary": "Using direct coordinates",
                  "value": {
                    "branchId": 1,
                    "latitude": 12.9716,
                    "longitude": 77.5946,
                    "orderAmount": 250,
                    "deliveryType": "NEXT_DAY"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Shipping charges calculated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "shippingCharges": {
                          "type": "number",
                          "example": 20,
                          "description": "Calculated shipping charges in currency units"
                        },
                        "distance": {
                          "type": "number",
                          "example": 2.5,
                          "description": "Distance in kilometers"
                        },
                        "eta": {
                          "type": "integer",
                          "nullable": true,
                          "example": 30,
                          "description": "Estimated delivery time in minutes (from road-distance API, if available)"
                        },
                        "method": {
                          "type": "string",
                          "enum": [
                            "ROAD_API",
                            "HAVERSINE_FALLBACK"
                          ],
                          "example": "ROAD_API",
                          "description": "Method used for distance calculation"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error - Either addressId OR (latitude and longitude) must be provided"
          },
          "404": {
            "description": "Address not found or does not belong to the user"
          }
        }
      }
    },
    "/api/save-branch-shipping-config": {
      "post": {
        "summary": "Save or update branch shipping configuration (VENDOR_ADMIN only)",
        "tags": [
          "Shipping",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "branchId"
                ],
                "properties": {
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (one config per branch)"
                  },
                  "distanceThresholdKm": {
                    "type": "number",
                    "default": 3,
                    "description": "Configurable distance threshold in kilometers"
                  },
                  "withinThresholdBaseCharge": {
                    "type": "number",
                    "default": 20,
                    "description": "Base shipping charge for orders within threshold distance"
                  },
                  "withinThresholdFreeAbove": {
                    "type": "number",
                    "default": 199,
                    "description": "Order amount above which shipping is free within threshold distance"
                  },
                  "aboveThresholdSamedayBaseCharge": {
                    "type": "number",
                    "default": 120,
                    "description": "Base shipping charge for same-day delivery above threshold distance"
                  },
                  "aboveThresholdSamedayDiscountedCharge": {
                    "type": "number",
                    "default": 50,
                    "description": "Discounted shipping charge for same-day delivery above threshold"
                  },
                  "aboveThresholdSamedayFreeAbove": {
                    "type": "number",
                    "default": 399,
                    "description": "Order amount above which same-day shipping is free above threshold distance"
                  },
                  "aboveThresholdNextdayBaseCharge": {
                    "type": "number",
                    "default": 50,
                    "description": "Base shipping charge for next-day delivery above threshold distance"
                  },
                  "aboveThresholdNextdayFreeAbove": {
                    "type": "number",
                    "default": 399,
                    "description": "Order amount above which next-day shipping is free above threshold distance"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Branch shipping config saved successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-branch-shipping-config/{branchId}": {
      "get": {
        "summary": "Get branch shipping configuration",
        "tags": [
          "Shipping",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "branchId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Branch ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Branch shipping config retrieved successfully"
          },
          "404": {
            "description": "Config not found (returns defaults)"
          }
        }
      }
    },
    "/api/save-sub-category": {
      "post": {
        "summary": "Create a new subcategory",
        "tags": [
          "SubCategories",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "description",
                  "categoryId",
                  "vendorId",
                  "branchId"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Smartphones",
                    "description": "Subcategory title (required)"
                  },
                  "description": {
                    "type": "string",
                    "example": "Mobile phones and smartphones",
                    "description": "Subcategory description (required)"
                  },
                  "categoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Category ID (required)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (required)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (required)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Subcategory status (optional, defaults to ACTIVE)"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Subcategory image file (required)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subcategory created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Subcategory created successfully"
                    },
                    "doc": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/get-sub-category": {
      "post": {
        "summary": "Get subcategories with pagination",
        "tags": [
          "SubCategories",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subcategories retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "title": {
                            "type": "string"
                          },
                          "category_id": {
                            "type": "integer",
                            "example": 1
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-sub-categories-by-category-id": {
      "post": {
        "summary": "Get subcategories by category ID with pagination",
        "tags": [
          "SubCategories",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "categoryId"
                ],
                "properties": {
                  "categoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Category ID (required)"
                  },
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subcategories retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "example": "Smartphones",
                            "description": "Subcategory name"
                          },
                          "products_count": {
                            "type": "integer",
                            "example": 25,
                            "description": "Number of active products in this subcategory"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "ACTIVE",
                              "INACTIVE"
                            ],
                            "example": "ACTIVE",
                            "description": "Subcategory status"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        },
                        "pageNumber": {
                          "type": "integer",
                          "example": 1
                        },
                        "totalCount": {
                          "type": "integer",
                          "example": 50
                        },
                        "totalPages": {
                          "type": "integer",
                          "example": 5
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "message": {
                      "type": "string",
                      "example": "Parameter: categoryId is required."
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/update-sub-category/{id}": {
      "patch": {
        "summary": "Update a subcategory",
        "tags": [
          "SubCategories",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Subcategory ID"
          },
          {
            "in": "header",
            "name": "x-concurrencystamp",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Concurrency stamp for optimistic locking"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "updatedBy",
                  "concurrencyStamp"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Updated Subcategory Name",
                    "description": "Subcategory title (optional)"
                  },
                  "description": {
                    "type": "string",
                    "example": "Updated description",
                    "description": "Subcategory description (optional)"
                  },
                  "branchId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Branch ID (optional)"
                  },
                  "vendorId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Vendor ID (optional)"
                  },
                  "categoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "Category ID (optional)"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Subcategory status (optional)"
                  },
                  "updatedBy": {
                    "type": "integer",
                    "example": 1,
                    "description": "User ID who is updating the subcategory"
                  },
                  "concurrencyStamp": {
                    "type": "string",
                    "format": "uuid",
                    "example": "123e4567-e89b-12d3-a456-426614174000",
                    "description": "Concurrency stamp from previous response"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Subcategory image file (optional)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Subcategory updated successfully",
            "headers": {
              "x-concurrencystamp": {
                "schema": {
                  "type": "string"
                }
              },
              "message": {
                "schema": {
                  "type": "string"
                }
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/get-sub-category-details/{subCategoryId}": {
      "get": {
        "summary": "Get detailed subcategory information",
        "tags": [
          "SubCategories",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "subCategoryId",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "SubCategory ID"
          }
        ],
        "responses": {
          "200": {
            "description": "SubCategory details retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer"
                        },
                        "title": {
                          "type": "string"
                        },
                        "description": {
                          "type": "string"
                        },
                        "image": {
                          "type": "string"
                        },
                        "category": {
                          "type": "object"
                        },
                        "statistics": {
                          "type": "object",
                          "properties": {
                            "product_count": {
                              "type": "integer"
                            }
                          }
                        },
                        "products": {
                          "type": "array",
                          "items": {
                            "type": "object"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "SubCategory not found"
          }
        }
      }
    },
    "/api/get-sub-category-stats": {
      "post": {
        "summary": "Get sub-category statistics and reports",
        "tags": [
          "SubCategories",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "subCategoryId"
                ],
                "properties": {
                  "subCategoryId": {
                    "type": "integer",
                    "example": 1,
                    "description": "SubCategory ID (required)"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2025-12-01",
                    "description": "Start date for revenue calculation (optional, ISO format)"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "example": "2026-01-31",
                    "description": "End date for revenue calculation (optional, ISO format)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sub-category statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "sub_category_id": {
                          "type": "integer",
                          "example": 1
                        },
                        "sub_category_title": {
                          "type": "string",
                          "example": "Smartphones"
                        },
                        "total_products": {
                          "type": "integer",
                          "example": 45,
                          "description": "Total number of products in this sub-category"
                        },
                        "active_products": {
                          "type": "integer",
                          "example": 38,
                          "description": "Number of active products in this sub-category"
                        },
                        "total_revenue": {
                          "type": "number",
                          "example": 8500000,
                          "description": "Total revenue from delivered orders (in paise/cents)"
                        },
                        "out_of_stock": {
                          "type": "integer",
                          "example": 7,
                          "description": "Number of out-of-stock product variants"
                        },
                        "charts": {
                          "type": "object",
                          "description": "Chart data for visual analytics",
                          "properties": {
                            "product_status_distribution": {
                              "type": "object",
                              "description": "Product Status Distribution (Pie Chart data)",
                              "properties": {
                                "active": {
                                  "type": "integer",
                                  "example": 38,
                                  "description": "Number of active products"
                                },
                                "inactive": {
                                  "type": "integer",
                                  "example": 7,
                                  "description": "Number of inactive products"
                                }
                              }
                            },
                            "stock_status_distribution": {
                              "type": "object",
                              "description": "Stock Status Distribution (Bar Chart data)",
                              "properties": {
                                "in_stock": {
                                  "type": "integer",
                                  "example": 32,
                                  "description": "Number of products/variants in stock"
                                },
                                "low_stock": {
                                  "type": "integer",
                                  "example": 6,
                                  "description": "Number of products/variants with low stock (quantity <= 10)"
                                },
                                "out_of_stock": {
                                  "type": "integer",
                                  "example": 7,
                                  "description": "Number of products/variants out of stock"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "404": {
            "description": "SubCategory not found"
          }
        }
      }
    },
    "/api/create-super-admin": {
      "post": {
        "summary": "Create super admin user",
        "tags": [
          "Authentication",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "password",
                  "confirm_password",
                  "mobile_number",
                  "email"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Super Admin"
                  },
                  "mobile_number": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "superadmin@example.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "SecurePassword123"
                  },
                  "confirm_password": {
                    "type": "string",
                    "format": "password",
                    "example": "SecurePassword123"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Profile image file"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Super admin created successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/auth-login": {
      "post": {
        "summary": "Authentication login with email and password (similar to OTP verification)",
        "tags": [
          "Authentication",
          "ADMIN"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "user@example.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "SecurePassword123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful"
          },
          "401": {
            "description": "Invalid credentials"
          }
        }
      }
    },
    "/api/user-profile": {
      "get": {
        "summary": "Get current user profile",
        "tags": [
          "Users",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "name": {
                          "type": "string",
                          "example": "John Doe"
                        },
                        "mobileNumber": {
                          "type": "string",
                          "example": "+1234567890"
                        },
                        "email": {
                          "type": "string",
                          "format": "email",
                          "example": "user@example.com"
                        },
                        "dateOfBirth": {
                          "type": "string",
                          "format": "date",
                          "example": "1990-01-01"
                        },
                        "gender": {
                          "type": "string",
                          "enum": [
                            "MALE",
                            "FEMALE"
                          ],
                          "example": "MALE"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "ACTIVE",
                            "INACTIVE"
                          ],
                          "example": "ACTIVE"
                        },
                        "profileStatus": {
                          "type": "string",
                          "enum": [
                            "INCOMPLETE",
                            "COMPLETE"
                          ],
                          "example": "COMPLETE"
                        },
                        "image": {
                          "type": "string",
                          "example": "https://example.com/image.jpg"
                        },
                        "roleName": {
                          "type": "string",
                          "example": "USER"
                        },
                        "vendorId": {
                          "type": "integer",
                          "nullable": true,
                          "example": 1
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token"
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/api/create-vendor-admin": {
      "post": {
        "summary": "Create a vendor admin user",
        "tags": [
          "Users",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "vendorId",
                  "name",
                  "mobile_number",
                  "email",
                  "password"
                ],
                "properties": {
                  "vendorId": {
                    "type": "integer",
                    "description": "Vendor ID",
                    "example": 1
                  },
                  "name": {
                    "type": "string",
                    "example": "Admin Name"
                  },
                  "mobile_number": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "admin@vendor.com"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "minLength": 6,
                    "example": "SecurePassword123"
                  },
                  "date_of_birth": {
                    "type": "string",
                    "format": "date",
                    "example": "1990-01-01"
                  },
                  "gender": {
                    "type": "string",
                    "enum": [
                      "MALE",
                      "FEMALE"
                    ],
                    "example": "MALE"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Profile image file"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vendor admin created successfully"
          },
          "400": {
            "description": "Validation error or vendor already has an admin"
          }
        }
      }
    },
    "/api/update-user/{id}": {
      "patch": {
        "summary": "Update user information",
        "tags": [
          "Users",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "User ID",
            "example": 1
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "John Doe Updated"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john.updated@example.com"
                  },
                  "mobile_number": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "NewPassword123"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Profile image file"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User updated successfully"
          },
          "400": {
            "description": "Validation error"
          }
        }
      }
    },
    "/api/convert-user-to-rider": {
      "post": {
        "summary": "Convert a user to rider role (Vendor Admin only)",
        "tags": [
          "Users",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId"
                ],
                "properties": {
                  "userId": {
                    "type": "integer",
                    "description": "User ID to convert to rider",
                    "example": 1
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User successfully converted to rider"
          },
          "400": {
            "description": "Validation error or user is already a rider"
          },
          "403": {
            "description": "Access denied. Vendor admin role required."
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/api/refresh-token": {
      "post": {
        "summary": "Refresh access token using old token",
        "tags": [
          "Authentication",
          "BOTH"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token"
                ],
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "The old/expired access token",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "doc": {
                      "type": "object",
                      "properties": {
                        "message": {
                          "type": "string",
                          "example": "Token refreshed successfully"
                        },
                        "token": {
                          "type": "string",
                          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                        },
                        "user": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "mobileNumber": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string"
                            },
                            "profileStatus": {
                              "type": "string"
                            },
                            "roleName": {
                              "type": "string"
                            },
                            "vendorId": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Invalid or expired token"
          }
        }
      }
    },
    "/api/get-users": {
      "post": {
        "summary": "Get users filtered by vendor and role",
        "description": "Vendor ID is automatically extracted from the JWT token. Only users belonging to the vendor in the token will be returned.",
        "tags": [
          "Users",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "tab",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Role name to filter users (e.g., ADMIN, RIDER, VENDOR_ADMIN). If not provided, returns all users for the vendor.",
            "example": "ADMIN"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of items per page",
                    "example": 10
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number (1-indexed)",
                    "example": 1
                  },
                  "filters": {
                    "type": "array",
                    "description": "Array of filter objects to filter user data",
                    "items": {
                      "type": "object",
                      "required": [
                        "key"
                      ],
                      "properties": {
                        "key": {
                          "type": "string",
                          "description": "Field name to filter on (e.g., name, email, mobileNumber, status)",
                          "example": "name"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "description": "Filter where value is in array",
                          "example": [
                            "John",
                            "Jane"
                          ]
                        },
                        "eq": {
                          "type": "string",
                          "description": "Filter where value equals",
                          "example": "John"
                        },
                        "neq": {
                          "type": "string",
                          "description": "Filter where value not equals",
                          "example": "John"
                        },
                        "gt": {
                          "type": "string",
                          "description": "Filter where value greater than",
                          "example": "2020-01-01"
                        },
                        "gte": {
                          "type": "string",
                          "description": "Filter where value greater than or equal",
                          "example": "2020-01-01"
                        },
                        "lt": {
                          "type": "string",
                          "description": "Filter where value less than",
                          "example": "2020-12-31"
                        },
                        "lte": {
                          "type": "string",
                          "description": "Filter where value less than or equal",
                          "example": "2020-12-31"
                        },
                        "like": {
                          "type": "string",
                          "description": "Filter where value contains (case-sensitive)",
                          "example": "John"
                        },
                        "iLike": {
                          "type": "string",
                          "description": "Filter where value contains (case-insensitive)",
                          "example": "john"
                        }
                      }
                    }
                  },
                  "sorting": {
                    "type": "array",
                    "description": "Array of sorting objects",
                    "items": {
                      "type": "object",
                      "required": [
                        "key",
                        "direction"
                      ],
                      "properties": {
                        "key": {
                          "type": "string",
                          "description": "Field name to sort by (e.g., createdAt, name, email)",
                          "example": "createdAt"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ],
                          "description": "Sort direction",
                          "example": "DESC"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Users retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "name": {
                            "type": "string",
                            "example": "John Doe"
                          },
                          "mobileNumber": {
                            "type": "string",
                            "example": "+1234567890"
                          },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "example": "john@example.com"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "ACTIVE",
                              "INACTIVE"
                            ],
                            "example": "ACTIVE"
                          },
                          "profileStatus": {
                            "type": "string",
                            "enum": [
                              "INCOMPLETE",
                              "COMPLETE"
                            ],
                            "example": "COMPLETE"
                          },
                          "image": {
                            "type": "string",
                            "example": "https://example.com/image.jpg"
                          },
                          "vendorId": {
                            "type": "integer",
                            "description": "Vendor ID from user_roles_mappings",
                            "example": 1
                          },
                          "mappingId": {
                            "type": "integer",
                            "description": "ID from user_roles_mappings table",
                            "example": 1
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2024-01-01T00:00:00.000Z"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2024-01-01T00:00:00.000Z"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "pageSize": {
                          "type": "integer",
                          "example": 10
                        },
                        "pageNumber": {
                          "type": "integer",
                          "example": 1
                        },
                        "totalCount": {
                          "type": "integer",
                          "nullable": true,
                          "description": "Total count of filtered records. null when pageNumber > 1",
                          "example": 25
                        },
                        "paginationEnabled": {
                          "type": "boolean",
                          "description": "Whether pagination is enabled (true if totalCount > pageSize or pageNumber > 1)",
                          "example": true
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or role not found"
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token"
          }
        }
      }
    },
    "/api/auth-logout": {
      "post": {
        "summary": "Logout user and close all socket connections",
        "tags": [
          "Authentication",
          "BOTH"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logged out successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Logged out successfully"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "disconnectedSockets": {
                          "type": "integer",
                          "description": "Number of socket connections that were disconnected",
                          "example": 2
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing token"
          }
        }
      }
    },
    "/api/register-user-fcm-token": {
      "post": {
        "summary": "Register or update FCM token for user",
        "tags": [
          "User FCM",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "fcmToken"
                ],
                "properties": {
                  "fcmToken": {
                    "type": "string",
                    "example": "fcm_token_string_here"
                  },
                  "deviceType": {
                    "type": "string",
                    "enum": [
                      "android",
                      "ios",
                      "web"
                    ],
                    "nullable": true,
                    "example": "android"
                  },
                  "deviceId": {
                    "type": "string",
                    "nullable": true,
                    "example": "device_unique_id"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "FCM token registered successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/remove-user-fcm-token": {
      "delete": {
        "summary": "Remove FCM token for user",
        "tags": [
          "User FCM",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "tokenId": {
                    "type": "integer",
                    "example": 1
                  },
                  "fcmToken": {
                    "type": "string",
                    "example": "fcm_token_string_here"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "FCM token removed successfully"
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Token not found"
          }
        }
      }
    },
    "/api/user-fcm-token": {
      "get": {
        "summary": "Get current user's FCM token information",
        "tags": [
          "User FCM",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "FCM token information retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/save-vendor": {
      "post": {
        "summary": "Create a new vendor with branch",
        "tags": [
          "Vendors",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "mobile_number",
                  "branchName"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "ABC Vendor"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "vendor@example.com"
                  },
                  "mobile_number": {
                    "type": "string",
                    "example": "+1234567890"
                  },
                  "code": {
                    "type": "string",
                    "example": "VENDOR001",
                    "description": "Unique vendor code (optional)"
                  },
                  "address": {
                    "type": "string",
                    "example": "123 Main St"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE"
                  },
                  "branchName": {
                    "type": "string",
                    "example": "Main Branch",
                    "description": "Branch name (required)"
                  },
                  "branchCode": {
                    "type": "string",
                    "example": "BRANCH001",
                    "description": "Unique branch code (optional)"
                  },
                  "addressLine1": {
                    "type": "string",
                    "example": "123 Main Street",
                    "description": "Address line 1 (optional)"
                  },
                  "addressLine2": {
                    "type": "string",
                    "example": "Suite 100",
                    "description": "Address line 2 (optional)"
                  },
                  "street": {
                    "type": "string",
                    "example": "Main Street",
                    "description": "Street name (optional)"
                  },
                  "city": {
                    "type": "string",
                    "example": "New York",
                    "description": "City (optional)"
                  },
                  "state": {
                    "type": "string",
                    "example": "NY",
                    "description": "State (optional)"
                  },
                  "pincode": {
                    "type": "string",
                    "example": "10001",
                    "description": "Pincode/ZIP code (optional)"
                  },
                  "latitude": {
                    "type": "number",
                    "example": 40.7128,
                    "description": "Latitude coordinate (optional)"
                  },
                  "longitude": {
                    "type": "number",
                    "example": -74.006,
                    "description": "Longitude coordinate (optional)"
                  },
                  "branchPhone": {
                    "type": "string",
                    "example": "+1234567890",
                    "description": "Branch phone number (optional)"
                  },
                  "branchEmail": {
                    "type": "string",
                    "format": "email",
                    "example": "branch@example.com",
                    "description": "Branch email (optional)"
                  },
                  "branchStatus": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ],
                    "example": "ACTIVE",
                    "description": "Branch status (optional, defaults to ACTIVE)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vendor and branch created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "successfully added"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "vendor": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "mobile_number": {
                              "type": "string"
                            },
                            "code": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "ACTIVE",
                                "INACTIVE"
                              ]
                            }
                          }
                        },
                        "branch": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer"
                            },
                            "vendor_id": {
                              "type": "integer"
                            },
                            "name": {
                              "type": "string"
                            },
                            "code": {
                              "type": "string"
                            },
                            "address_line1": {
                              "type": "string"
                            },
                            "address_line2": {
                              "type": "string"
                            },
                            "street": {
                              "type": "string"
                            },
                            "city": {
                              "type": "string"
                            },
                            "state": {
                              "type": "string"
                            },
                            "pincode": {
                              "type": "string"
                            },
                            "latitude": {
                              "type": "number"
                            },
                            "longitude": {
                              "type": "number"
                            },
                            "phone": {
                              "type": "string"
                            },
                            "email": {
                              "type": "string"
                            },
                            "status": {
                              "type": "string",
                              "enum": [
                                "ACTIVE",
                                "INACTIVE"
                              ]
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - validation error or duplicate code"
          }
        }
      }
    },
    "/api/get-vendor": {
      "post": {
        "summary": "Get vendors with pagination",
        "tags": [
          "Vendors",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "filters": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "eq": {
                          "type": "string"
                        },
                        "in": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        },
                        "neq": {
                          "type": "string"
                        },
                        "gt": {
                          "type": "string"
                        },
                        "gte": {
                          "type": "string"
                        },
                        "lt": {
                          "type": "string"
                        },
                        "lte": {
                          "type": "string"
                        },
                        "like": {
                          "type": "string"
                        },
                        "iLike": {
                          "type": "string"
                        }
                      }
                    },
                    "description": "Array of filter objects"
                  },
                  "sorting": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "key": {
                          "type": "string"
                        },
                        "direction": {
                          "type": "string",
                          "enum": [
                            "ASC",
                            "DESC"
                          ]
                        }
                      }
                    },
                    "description": "Array of sorting objects"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vendors retrieved successfully"
          }
        }
      }
    },
    "/api/update-vendor/{id}": {
      "patch": {
        "summary": "Update a vendor",
        "tags": [
          "Vendors",
          "ADMIN"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "Vendor ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "mobile_number": {
                    "type": "string"
                  },
                  "address": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "ACTIVE",
                      "INACTIVE"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Vendor updated successfully"
          }
        }
      }
    },
    "/api/get-vendor-by-code": {
      "get": {
        "summary": "Get vendor details by code (Public API)",
        "tags": [
          "Vendors",
          "CLIENT"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "code",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Vendor code"
          }
        ],
        "responses": {
          "200": {
            "description": "Vendor retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "name": {
                          "type": "string",
                          "example": "ABC Vendor"
                        },
                        "email": {
                          "type": "string",
                          "example": "vendor@example.com"
                        },
                        "mobile_number": {
                          "type": "string",
                          "example": "+1234567890"
                        },
                        "code": {
                          "type": "string",
                          "example": "VENDOR001"
                        },
                        "address": {
                          "type": "string",
                          "example": "123 Main St"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "ACTIVE",
                            "INACTIVE"
                          ],
                          "example": "ACTIVE"
                        },
                        "concurrency_stamp": {
                          "type": "string",
                          "format": "uuid",
                          "example": "123e4567-e89b-12d3-a456-426614174000"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Vendor not found"
          }
        }
      }
    },
    "/api/save-wishlist": {
      "post": {
        "summary": "Add item to wishlist",
        "tags": [
          "Wishlist",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "productId"
                ],
                "properties": {
                  "productId": {
                    "type": "string",
                    "example": "product-uuid-here"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Item added to wishlist successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Item added to wishlist"
                    },
                    "doc": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "example": 1
                        },
                        "product_id": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Validation error or item already in wishlist"
          }
        }
      }
    },
    "/api/get-wishlist": {
      "post": {
        "summary": "Get user wishlist items",
        "tags": [
          "Wishlist",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "createdBy"
                ],
                "properties": {
                  "pageSize": {
                    "type": "integer",
                    "enum": [
                      1,
                      5,
                      10,
                      20,
                      30,
                      40,
                      50,
                      100,
                      500
                    ],
                    "default": 10,
                    "description": "Number of results per page"
                  },
                  "pageNumber": {
                    "type": "integer",
                    "minimum": 1,
                    "default": 1,
                    "description": "Page number"
                  },
                  "createdBy": {
                    "type": "integer",
                    "description": "User ID who created the wishlist items (required)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Wishlist items retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "doc": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "example": 1
                          },
                          "product_id": {
                            "type": "string"
                          },
                          "product": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "price": {
                                "type": "number"
                              },
                              "imageUrl": {
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "count": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/delete-wishlist": {
      "delete": {
        "summary": "Remove item from wishlist",
        "tags": [
          "Wishlist",
          "CLIENT"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "wishlistId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Wishlist item ID to delete"
          }
        ],
        "responses": {
          "200": {
            "description": "Item removed from wishlist successfully",
            "headers": {
              "message": {
                "schema": {
                  "type": "string"
                },
                "example": "Item removed from wishlist"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error deleting wishlist item"
          }
        }
      }
    }
  }
}